<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Manual Login | Gracely</title>

    <meta name="title" content="Manual Login | Gracely" />
    <meta
      name="description"
      content="Login manual untuk layanan Gracely."
    />
    <link
      rel="shortcut icon"
      href="assets/images/favicon.png"
      type="image/png"
    />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="assets/css/animate.css" />
    <link
      href="https://cdn.lineicons.com/4.0/lineicons.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/css/ud-styles.css" />
    <link rel="stylesheet" href="assets/styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="auth.js"></script>
    <script>requireAuth();</script>
    <script>
  // Jalankan skrip ini setelah semua konten HTML dimuat
  document.addEventListener("DOMContentLoaded", function () {
    
    // 1. Buat objek untuk membaca parameter URL
    const params = new URLSearchParams(window.location.search);

    // 2. Ambil setiap nilai dari URL berdasarkan 'key'-nya
    // (Contoh: ...?name=Canva 7&login=...)
    const serviceName = params.get("name");
    const loginEmail = params.get("login");
    const loginPassword = params.get("password");
    const loginUrl = params.get("url");

    // 3. Temukan elemen HTML dan masukkan datanya
    
    // Jika ada parameter 'name' di URL
    if (serviceName) {
      // Setel judul tab browser
      document.title = serviceName + " | Gracely";
      // Setel judul H1 di halaman
      const titleElement = document.getElementById("page-title-h1");
      if (titleElement) {
        titleElement.textContent = serviceName;
      }
    }

    // Jika ada parameter 'login' di URL
    if (loginEmail) {
      // Setel nilai (value) dari input email
      const loginElement = document.getElementById("login");
      if (loginElement) {
        loginElement.value = loginEmail;
      }
    }

    // Jika ada parameter 'password' di URL
    if (loginPassword) {
      // Setel nilai (value) dari input password
      const passwordElement = document.getElementById("password");
      if (passwordElement) {
        passwordElement.value = loginPassword;
      }
    }

    // Jika ada parameter 'url' di URL
    if (loginUrl) {
      // Setel target link (href) dari tombol login
      const linkElement = document.getElementById("manual-login-link");
      if (linkElement) {
        linkElement.href = loginUrl;
      }
    }
  });
</script>
  </head>
  <body>
    <div id="announcement-placeholder"></div>
    <div id="navbar-placeholder"></div>

    <section class="ud-page-banner">
      <div class="container">
        <div class="row">
          <div class="col-lg-12">
            <div class="ud-banner-content">
              <h1 id="page-title-h1">Manual Login</h1>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="ud-login">
      <div class="container">
        <div class="row">
          <div class="col-lg-12">
            <div class="ud-login-wrapper">
              <div class="ud-login-form">
                <div class="groupy-form-group">
                  <div style="display: flex; align-items: center">
                    <input
                      type="text"
                      id="login"
                      value=""
                      placeholder=" "
                      readonly
                      style="flex-grow: 1"
                    />
                    <label for="login" class="me-5">Email</label>
                    <button
                      class="ud-main-btn"
                      onclick="copyToClipboard('login')"
                      style="margin-left: 10px"
                    >
                      <i class="fa fa-copy"></i>
                    </button>
                  </div>
                </div>
                <div class="groupy-form-group">
                  <div style="display: flex; align-items: center">
                    <input
                      type="text"
                      id="password"
                      value=""
                      placeholder=" "
                      readonly
                      style="flex-grow: 1"
                    />
                    <label for="password" class="me-3">Password</label>
                    <button
                      class="ud-main-btn"
                      onclick="copyToClipboard('password')"
                      style="margin-left: 10px"
                    >
                      <i class="fa fa-copy"></i>
                    </button>
                  </div>
                </div>

                <div class="ud-form-group">
                  <a
                    id="manual-login-link"
                    class="ud-main-btn w-100"
                    href=""
                    target="_blank"
                    >Buka Halaman Login</a
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script>
      function copyToClipboard(elementId) {
        var copyText = document.getElementById(elementId);
        copyText.select();
        copyText.setSelectionRange(0, 99999); // Untuk perangkat mobile
        try {
          document.execCommand("copy");
          // Opsi: Beri tahu pengguna bahwa teks telah disalin
          // alert("Disalin: " + copyText.value);
        } catch (err) {
          console.error("Gagal menyalin teks: ", err);
        }
      }
    </script>

    <div id="footer-placeholder"></div>
    <div id="back-to-top-placeholder"></div>

    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/wow.min.js"></script>
    <script src="assets/js/main.js"></script>
    
    <script src="layout.js"></script>
    <script src="assets/script.js"></script>

    </body>
</html>

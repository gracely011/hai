<!doctype html>
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Dashboard | Gracely</title>
    <meta name="description" content="Dashboard - Unlock Premium Together">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="loading-overlay" class="loading-overlay">
        <div class="spinner"></div>
    </div>
    <div id="announcement-placeholder"></div>
    <div id="navbar-placeholder"></div>
    <section class="ud-page-banner">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="ud-banner-content"><h1>Dashboard</h1></div>
                </div>
            </div>
        </div>
    </section>
    <section class="ud-dashboard-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-6">
                    <div class="ud-single-dashboard-card wow fadeInUp" data-wow-delay=".1s">
                        <h3>Your plan</h3>
                        <div id="premium-status">Loading...</div>
                        <p id="premium-message"></p>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                     <div class="ud-single-dashboard-card wow fadeInUp" data-wow-delay=".15s">
                        <h3>Extension Download</h3>
                         <p>Download the latest version of Gracely Extension for your browser.</p>
                         <a href="#" class="ud-main-btn ud-link-btn">Download Now <i class="fa-solid fa-download"></i></a>
                    </div>
                </div>
                <div class="col-lg-4 col-md-12">
                    <div class="ud-single-dashboard-card wow fadeInUp" data-wow-delay=".2s">
                       <h3>Tutorial</h3>
                       <p>How to use Gracely Extension? Watch the video tutorial.</p>
                       <a href="#" class="ud-main-btn ud-link-btn">Watch Video <i class="fa-solid fa-play"></i></a>
                   </div>
                </div>
            </div>
             <div class="row" style="margin-top: 20px;">
                <div class="col-lg-12">
                   <div class="ud-single-dashboard-card wow fadeInUp" data-wow-delay=".25s">
                        <h3>Service Status</h3>
                        <p>Real-time status updates for all shared premium services.</p>
                        <div id="service-status-list">
                            <p>Loading service status...</p>
                         </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <div id="footer-placeholder"></div>
    <div id="back-to-top-placeholder"></div>
    <script src="auth.js"></script>
    <script src="layout.js"></script>
    <script src="scripts.js"></script>
    <script src="wow.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            requireAuth();
            new WOW().init();

            const premiumStatusDiv = document.getElementById('premium-status');
            const premiumMessageP = document.getElementById('premium-message');
            const isPremium = localStorage.getItem('isPremium') === 'true';
            const expiryDate = localStorage.getItem('premiumExpiryDate');

            if (isPremium && expiryDate) {
                const expiry = new Date(expiryDate);
                const today = new Date();
                const diffTime = expiry - today;
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

                premiumStatusDiv.innerHTML = '<span class="premium-badge">Premium</span>';
                 premiumMessageP.textContent = `You have access to Gracely Extension.\nExpires on: ${expiry.toLocaleDateString()} (${diffDays} days left)`;
                 premiumMessageP.style.whiteSpace = 'pre-line';
            } else {
                premiumStatusDiv.innerHTML = '<span class="no-premium-badge">No Premium</span>';
                premiumMessageP.textContent = 'Premium is required to access Gracely Extension.';
            }

            const serviceStatusList = document.getElementById('service-status-list');
            serviceStatusList.textContent = 'Real-time status monitoring feature is currently under development.';

        });
    </script>
</body>
</html>
